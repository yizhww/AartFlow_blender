# AartFlow 用户指南

![User Guide](https://img.shields.io/badge/User-Guide-blue?style=flat-square&logo=book)
![Version-1.0.0](https://img.shields.io/badge/Version-1.0.0-green?style=flat-square)
![Status-Complete](https://img.shields.io/badge/Status-Complete-brightgreen?style=flat-square)

<p align="center">
<strong>从安装到高级使用的完整用户指南</strong>
</p>

## 📋 目录

- [🚀 快速开始](#-快速开始)
- [✨ 功能特性](#-功能特性)
- [📚 使用教程](#-使用教程)
- [🎯 适用场景](#-适用场景)
- [❓ 常见问题](#-常见问题)

---

## 🚀 快速开始

### 安装插件

#### 方法一：通过 GitHub Releases（推荐）
1. 访问 [Releases](https://github.com/yizhww/AartFlow_blender/releases) 页面
2. 下载最新版本的 `AartFlow-版本号.zip` 文件
3. 打开 Blender，前往 **编辑** > **偏好设置** > **插件**
4. 点击 **安装...** 按钮，选择下载的 ZIP 文件
5. 在插件列表中搜索 "AartFlow" 并启用

#### 方法二：手动安装
1. 克隆或下载此仓库到本地
2. 将 `AartFlow/` 目录复制到 Blender 插件目录：
   - **Windows**: `%APPDATA%\Blender Foundation\Blender\4.2\scripts\addons\`
   - **macOS**: `~/Library/Application Support/Blender Foundation/Blender/4.2/scripts/addons/`
   - **Linux**: `~/.config/blender/4.2/scripts/addons/`
3. 重启 Blender 或重新加载插件

### 系统要求
- **Blender**: 4.2.0 或更高版本
- **Python**: 3.10 或更高版本
- **操作系统**: Windows 10+, macOS 10.15+, Linux

### 验证安装
安装完成后，在 Blender 中：
1. 打开 3D 视图的侧边栏（按 N 键）
2. 查找 "AartFlow" 标签页
3. 如果看到 AartFlow 面板，说明安装成功

### 5分钟快速上手

#### 第一步：访问主面板
1. 在 3D 视图的侧边栏（按 N 键）中找到 "AartFlow" 标签
2. 点击展开 AartFlow 主面板

#### 第二步：添加模块
有两种方式添加模块：

**方式一：自动发现**
1. 将脚本文件放入 `AartFlow/scripts/` 目录
2. 插件会自动发现并加载新模块

**方式二：手动添加**
1. 点击 "添加模块..." 按钮
2. 选择要集成的脚本文件
3. 模块会自动加载到主面板

#### 第三步：使用功能
1. 使用 **F5** 键快速呼出饼菜单访问常用功能
2. 在各个模块面板中使用具体功能
3. 使用模块管理工具进行配置

### 常用操作

#### 模块管理
- **刷新模块** - 重新扫描并加载所有模块
- **移除模块** - 从主面板中移除不需要的模块
- **重置配置** - 恢复默认配置

#### 快速访问
- **F5 饼菜单** - 快速访问常用功能
- **快捷键** - 自定义快捷键绑定
- **工具栏** - 集成到 Blender 工具栏

---

## ✨ 功能特性

### 核心特性

- **🔧 动态模块发现** - 自动扫描并集成独立脚本模块
- **🎛️ 代理面板系统** - 统一管理分散的功能面板
- **⚡ 热重载开发** - 支持实时调试和代码更新
- **📦 模块化架构** - 每个功能模块独立开发维护
- **🛠️ 开发工具链** - 完整的开发和打包工具

### 核心集成功能

#### 动态模块发现
- **自动扫描** - 自动扫描 `scripts/` 目录下的 Python 脚本
- **智能识别** - 智能识别包含 `bpy.types.Panel` 的模块
- **热重载** - 支持热重载，开发时无需重启 Blender

#### 代理面板系统
- **统一整合** - 将分散的模块面板统一整合到 AartFlow 主面板
- **功能保持** - 保持原脚本的完整功能和独立性
- **避免冲突** - 避免面板冲突和重复注册问题

#### 模块管理工具
- **可视化操作** - 可视化模块添加、移除和刷新
- **配置管理** - 模块路径配置和状态查看
- **批量操作** - 一键重置和批量操作

### 内置模块

#### 渲染模块
- **artRenderFront.py** - 渲染前端界面和用户交互
- **artRenderBack.py** - 渲染后端逻辑和数据处理

#### 工具模块
- **objectMeasure.py** - 对象测量和尺寸标注工具
- **dataPlotting.py** - 数据可视化和图表生成
- **standardView.py** - 标准视图管理和相机控制
- **skylightsManage.py** - 天窗管理和光照控制

#### 集成模块
- **skpDrag.py** - SKP 文件拖拽导入功能
- **openCmd.py** - 命令行工具和外部程序调用

### 技术优势

#### 架构设计
- **松耦合** - 模块间相互独立，便于维护
- **可扩展** - 易于添加新功能和模块
- **可配置** - 灵活的配置和自定义选项

#### 性能优化
- **按需加载** - 只加载需要的模块
- **内存管理** - 智能的内存使用和清理
- **响应速度** - 优化的用户界面响应

---

## 📚 使用教程

### 基础教程

#### 1. 插件安装与配置
- 插件配置和首选项设置
- 模块路径配置

#### 2. 界面导航
- AartFlow 主面板介绍
- 侧边栏和工具栏使用
- 快捷键和饼菜单

#### 3. 模块管理
- 添加和移除模块
- 模块配置和设置
- 模块状态监控

### 高级教程

#### 1. 渲染工作流
- 渲染前端设置
- 后端渲染配置
- 批量渲染处理

#### 2. 对象测量
- 测量工具使用
- 尺寸标注和显示
- 测量数据导出

#### 3. 数据可视化
- 图表生成和编辑
- 数据导入导出
- 可视化配置

#### 4. 视图管理
- 标准视图设置
- 相机控制
- 视图切换

### 实际案例

#### 案例1：建筑可视化项目
1. 导入建筑模型
2. 设置标准视图
3. 配置渲染参数
4. 生成多角度渲染图

#### 案例2：产品展示
1. 产品模型准备
2. 测量和标注
3. 数据可视化
4. 最终渲染输出

#### 案例3：教学演示
1. 创建教学场景
2. 添加测量工具
3. 生成教学材料
4. 导出演示文件

### 最佳实践

#### 工作流优化
- 合理组织模块加载顺序
- 使用模板和预设
- 建立标准化流程

#### 性能优化
- 模块按需加载
- 缓存机制使用
- 内存管理

#### 团队协作
- 统一配置标准
- 共享模块库
- 版本控制

---

## 🎯 适用场景

### 主要应用场景

#### 插件开发
- **多模块整合** - 需要整合多个独立功能的 Blender 插件
- **功能扩展** - 快速添加新功能而不影响现有代码
- **模块化架构** - 采用模块化设计的大型插件项目

#### 工作流优化
- **工具统一** - 统一管理分散的工具和脚本
- **流程标准化** - 建立标准化的 Blender 工作流程
- **效率提升** - 减少重复操作，提高工作效率

#### 团队协作
- **模块化开发** - 便于多人协作维护
- **代码复用** - 共享通用模块和工具
- **版本管理** - 独立模块的版本控制

#### 教学培训
- **学习资源** - 学习 Blender 插件开发的最佳实践
- **示例项目** - 作为插件开发的参考项目
- **技术分享** - 分享模块化开发经验

### 行业应用

#### 建筑可视化
- **建筑渲染** - 建筑项目的可视化渲染
- **测量工具** - 建筑尺寸测量和标注
- **标准视图** - 建筑标准视图管理

#### 产品设计
- **产品展示** - 产品模型的可视化展示
- **尺寸标注** - 产品尺寸的精确标注
- **数据可视化** - 产品数据的图表展示

#### 教育培训
- **教学演示** - 创建教学演示材料
- **技能培训** - Blender 技能培训项目
- **案例研究** - 实际项目案例分析

#### 科研项目
- **数据可视化** - 科研数据的可视化展示
- **模型分析** - 3D 模型的测量和分析
- **报告生成** - 自动生成分析报告

---

## ❓ 常见问题

### 安装问题

**Q: 插件安装后没有显示面板？**
A: 
1. 确保插件已启用
2. 检查 Blender 版本是否兼容（需要 4.2+）
3. 查看控制台是否有错误信息
4. 尝试重新安装插件

**Q: 模块加载失败？**
A:
1. 检查 Python 版本（需要 3.10+）
2. 确认脚本文件权限
3. 查看模块文件是否有语法错误
4. 检查依赖项是否完整

**Q: 热重载不工作？**
A:
1. 确保在文本编辑器中运行脚本
2. 检查脚本文件路径
3. 确认模块注册函数正确
4. 查看控制台错误信息

### 使用问题

**Q: 面板功能不响应？**
A:
1. 检查 Blender 上下文是否正确
2. 确认操作对象已选择
3. 查看控制台错误信息
4. 尝试刷新模块

**Q: 渲染功能异常？**
A:
1. 检查渲染设置
2. 确认场景对象完整
3. 查看渲染日志
4. 尝试重置渲染参数

**Q: 模块集成不工作？**
A:
1. 检查模块文件路径
2. 确认模块包含必要的类定义
3. 查看模块注册函数
4. 检查模块依赖关系

### 性能问题

**Q: 插件运行缓慢？**
A:
1. 检查加载的模块数量
2. 关闭不需要的模块
3. 检查系统资源使用情况
4. 优化模块代码

**Q: 内存使用过高？**
A:
1. 定期清理不需要的模块
2. 检查模块中的内存泄漏
3. 使用内存监控工具
4. 优化数据结构

---

## 相关链接

- [返回文档中心](README.md)
- [开发指南](development-guide.md)
- [贡献与支持](contributing-and-support.md)

---

<p align="center">
Made with ❤️ for the Blender Community
</p>
